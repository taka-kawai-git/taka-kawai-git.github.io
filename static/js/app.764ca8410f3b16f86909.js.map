{"version":3,"sources":["webpack:///./src/assets/image/at-sign.svg","webpack:///./src/assets/image/book.svg","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?1647","webpack:///./src/components/Navbar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?11c5","webpack:///./src/App.vue","webpack:///./src/components/firebaseInit.js","webpack:///./src/components/firebaseConfig.js","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?ce35","webpack:///./src/components/Home.vue","webpack:///src/components/Menu.vue","webpack:///./src/components/Menu.vue?f2ce","webpack:///./src/components/Menu.vue","webpack:///./src/components/Terms.vue?c7d5","webpack:///./src/components/Terms.vue","webpack:///src/components/NewThread.vue","webpack:///./src/components/NewThread.vue?7416","webpack:///./src/components/NewThread.vue","webpack:///src/components/ViewThread.vue","webpack:///./src/components/ViewThread.vue?a60b","webpack:///./src/components/ViewThread.vue","webpack:///src/components/NewComment.vue","webpack:///./src/components/NewComment.vue?1fd7","webpack:///./src/components/NewComment.vue","webpack:///src/components/NewVote.vue","webpack:///./src/components/NewVote.vue?bd9a","webpack:///./src/components/NewVote.vue","webpack:///src/components/ViewVote.vue","webpack:///./src/components/ViewVote.vue?113c","webpack:///./src/components/ViewVote.vue","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?ed26","webpack:///./src/components/Login.vue","webpack:///./src/components/EmailVerified.vue?a1ce","webpack:///./src/components/EmailVerified.vue","webpack:///src/components/EmailVerified.vue","webpack:///src/components/VerifyEmail.vue","webpack:///./src/components/VerifyEmail.vue?f994","webpack:///./src/components/VerifyEmail.vue","webpack:///src/components/Register.vue","webpack:///./src/components/Register.vue?3835","webpack:///./src/components/Register.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/image/menu.svg","webpack:///./src/assets/image/log-out.svg","webpack:///./src/assets/image/home.svg"],"names":["module","exports","Navbar","name","data","isLogggedIn","isEmailVerified","currentUser","created","index_cjs_default","a","auth","emailVerified","this","email","methods","logout","_this","signOut","then","$router","go","path","components_Navbar","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","to","_v","_e","src","__webpack_require__","on","click","staticRenderFns","App","components","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","key","$route","fullPath","src_App","App_normalizeComponent","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Home","threads_latest","threads_popular","votes","isVoteActive","checked_at","mounted","el","document","querySelector","target","materialize_default","Tabs","init","swipeable","getElementById","MutationObserver","mutations","forEach","mutation","console","log","className","observe","attributes","attributeFilter","setAttribute","_this2","domain","split","firebaseInit","collection","doc","orderBy","get","querySnapshot","title","thread_id","num_comments","comments","length","num_unreads","push","sort","b","exists","updateNumOfUnread","vote_id","_this3","thread","index","array","splice","components_Home","_m","_l","params","hash","_s","vote","href","src_components_Home","Home_normalizeComponent","Menu","computed","components_Menu","src_components_Menu","Menu_normalizeComponent","Terms","components_Terms","Terms_normalizeComponent","NewThread","comment","$uuid","v1","saveThread","date","Date","likes","i","add","num_shards","posted_at","user_id","uid","created_at","docRef","_i","toString","set","catch","error","components_NewThread","submit","$event","preventDefault","directives","rawName","value","expression","type","placeholder","required","domProps","input","composing","src_components_NewThread","NewThread_normalizeComponent","ViewThread","doc_id","beforeRouteEnter","from","next","where","vm","updateCheckedAt","elems","querySelectorAll","Modal","updated","$nextTick","element","vue_scrollto_default","scrollTo","watch","fetchData","thread_doc_id","update","defineProperty_default","updateLike","self","shard_id","Math","floor","random","limit","FieldValue","arrayUnion","addLike","saveComment","now_added","elem","getInstance","close","oldComments","slice","newComments","components_ViewThread","toDate","toDateString","includes","src_components_ViewThread","ViewThread_normalizeComponent","NewComment","components_NewComment","src_components_NewComment","NewComment_normalizeComponent","NewVote","desc","candidates","enabled","saveVote","view_id","addCandidate","components_NewVote","candidate","$set","src_components_NewVote","NewVote_normalizeComponent","ViewVote","isVoted","isFetched","ratios","round","deno","updateVote","addVote","vote_doc_id","components_ViewVote","ratio","style","width","src_components_ViewVote","ViewVote_normalizeComponent","Login","password","login","e","signInWithEmailAndPassword","user","err","alert","message","components_Login","src_components_Login","Login_normalizeComponent","components_EmailVerified","src_components_EmailVerified","EmailVerified_normalizeComponent","VerifyEmail","returnUrl","sendEmailVerification","url","handleCodeInApp","reload","components_VerifyEmail","src_components_VerifyEmail","VerifyEmail_normalizeComponent","Register","register","createUserWithEmailAndPassword","registerUser","updateOrRegisterDomain","domainRef","updateDomain","registerDomain","participants","increment","create_at","components_Register","src_components_Register","Register_normalizeComponent","Vue","use","Router","UUID","VueScrollTo","router","routes","component","meta","requiresEmailVerified","requiresGuest","EmailVerified","requiresAuth","beforeEach","matched","some","record","query","redirect","fullpath","config","productionTip","app","onAuthStateChanged","template"],"mappings":"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","file":"static/js/app.764ca8410f3b16f86909.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItYXQtc2lnbiI+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNCI+PC9jaXJjbGU+PHBhdGggZD0iTTE2IDh2NWEzIDMgMCAwIDAgNiAwdi0xYTEwIDEwIDAgMSAwLTMuOTIgNy45NCI+PC9wYXRoPjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/image/at-sign.svg\n// module id = 0L2H\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItYm9vayI+PHBhdGggZD0iTTQgMTkuNUEyLjUgMi41IDAgMCAxIDYuNSAxN0gyMCI+PC9wYXRoPjxwYXRoIGQ9Ik02LjUgMkgyMHYyMEg2LjVBMi41IDIuNSAwIDAgMSA0IDE5LjV2LTE1QTIuNSAyLjUgMCAwIDEgNi41IDJ6Ij48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/image/book.svg\n// module id = 9uCX\n// module chunks = 1","<template>\n    <div id=\"navbar\">\n        <nav class=\"z-depth-0 bg-none\">\n            <div class=\"nav-wrapper border-b-grey-l3\">\n                <div class=\"container\">\n                    <router-link to=\"/\" class=\"black-text exo-800 fs-1-5\">Company</router-link>\n                    <ul v-if=\"!isLogggedIn && !isEmailVerified\" class=\"right\">\n                        <li><router-link to=\"/login\" class=\"black-text fw-b\">ログイン</router-link></li>\n                        <li><router-link to=\"/register\" class=\"black-text fw-b\">新規登録</router-link></li>\n                    </ul>\n                    <div v-if=\"isLogggedIn && isEmailVerified\" class=\"right\"><router-link to=\"/menu\" class=\"black-text\">\n                        <img class=\"v-align-m\" src=\"../assets/image/menu.svg\"/>\n                    </router-link></div>\n                    <div v-if=\"isLogggedIn && !isEmailVerified\" class=\"right\"><button v-on:click=\"logout\" class=\"button-naked fw-b\">ログアウト</button></div>\n                    </ul>\n                </div>\n            </div>\n        </nav>\n    </div>\n</template>\n\n<script>\nimport firebase from 'firebase';\n\nexport default {\n    name: 'navbar',\n    data() {\n        return {\n            isLogggedIn: false,\n            isEmailVerified: false,\n            currentUser: false\n        };\n    },\n    created() {\n        if(!firebase.auth().currentUser){\n            return;\n        } else if (!firebase.auth().currentUser.emailVerified) {\n            this.isLogggedIn = true;\n            this.isEmailVerified = false;\n            this.currentUser = firebase.auth().currentUser.email;\n        } else {\n            this.isLogggedIn = true;\n            this.isEmailVerified = true;\n            this.currentUser = firebase.auth().currentUser.email;\n        }\n    },\n    methods: {\n        logout: function() {\n            firebase.auth().signOut().then(() => {\n                this.$router.go({path: this.$router.path});\n            });\n        }\n    }\n}\n</script>\n\n<style scoped>\n@import \"../assets/common.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Navbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"navbar\"}},[_c('nav',{staticClass:\"z-depth-0 bg-none\"},[_c('div',{staticClass:\"nav-wrapper border-b-grey-l3\"},[_c('div',{staticClass:\"container\"},[_c('router-link',{staticClass:\"black-text exo-800 fs-1-5\",attrs:{\"to\":\"/\"}},[_vm._v(\"Company\")]),_vm._v(\" \"),(!_vm.isLogggedIn && !_vm.isEmailVerified)?_c('ul',{staticClass:\"right\"},[_c('li',[_c('router-link',{staticClass:\"black-text fw-b\",attrs:{\"to\":\"/login\"}},[_vm._v(\"ログイン\")])],1),_vm._v(\" \"),_c('li',[_c('router-link',{staticClass:\"black-text fw-b\",attrs:{\"to\":\"/register\"}},[_vm._v(\"新規登録\")])],1)]):_vm._e(),_vm._v(\" \"),(_vm.isLogggedIn && _vm.isEmailVerified)?_c('div',{staticClass:\"right\"},[_c('router-link',{staticClass:\"black-text\",attrs:{\"to\":\"/menu\"}},[_c('img',{staticClass:\"v-align-m\",attrs:{\"src\":require(\"../assets/image/menu.svg\")}})])],1):_vm._e(),_vm._v(\" \"),(_vm.isLogggedIn && !_vm.isEmailVerified)?_c('div',{staticClass:\"right\"},[_c('button',{staticClass:\"button-naked fw-b\",on:{\"click\":_vm.logout}},[_vm._v(\"ログアウト\")])]):_vm._e()],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e045889\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e045889\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Navbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e045889\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Navbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e045889\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navbar.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"app\">\n        <Navbar :key=\"$route.fullPath\"></Navbar>\n        <router-view/>\n    </div>\n</template>\n\n<script>\nimport Navbar from './components/Navbar'\nexport default {\n  name: 'App',\n  components: {\n      Navbar\n  }\n}\n</script>\n\n<style scoped>\n\n@import url('https://fonts.googleapis.com/css?family=Noto+Sans+JP:400,700&display=swap');\n@import url('https://fonts.googleapis.com/css?family=Exo:800&display=swap');\n\n#app {\n    font-family: \"Hiragino Kaku Gothic ProN\", 'Noto Sans JP', sans-serif !important;\n    height: 100%;\n}\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Navbar',{key:_vm.$route.fullPath}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43df3abd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43df3abd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43df3abd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43df3abd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import firebase from 'firebase'\nimport 'firebase/firestore'\nimport firebaseConfig from './firebaseConfig'\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\nexport default firebaseApp.firestore()\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/firebaseInit.js","export default {\n    apiKey: \"AIzaSyCg0Yx2NdcixJM1mrdoV0wxQNFWkn4Nb50\",\n    authDomain: \"pigeon-e1a9f.firebaseapp.com\",\n    databaseURL: \"https://pigeon-e1a9f.firebaseio.com\",\n    projectId: \"pigeon-e1a9f\",\n    storageBucket: \"pigeon-e1a9f.appspot.com\",\n    messagingSenderId: \"660502866911\",\n    appId: \"1:660502866911:web:2c08feee70600e4cb1b26a\",\n    measurementId: \"G-EQ2J0GYDZ1\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/firebaseConfig.js","<template>\n<div id=\"home\" class=\"container-100 h-100\">\n\n    <!-------- Tabs -------->\n\n    <ul id=\"tabs-swipe-ul\" class=\"tabs bg-none\">\n        <li class=\"tab col s3\"><a class=\"active\" href=\"#tab-swipe-1\">最新</a></li>\n        <li class=\"tab col s3\"><a href=\"#tab-swipe-2\">話題</a></li>\n        <li class=\"tab col s3\"><a href=\"#tab-swipe-3\" id=\"tab-vote\">投票</a></li>\n    </ul>\n\n    <!-------- Latest -------->\n\n    <div id=\"tab-swipe-1\" class=\"col s12\">\n        <ul class=\"collection border-x-0 b-color-theme fs-1-1 m-y-0\">\n            <li v-for=\"thread in threads_latest\" v-bind:key=\"thread.id\"\n            class=\"collection-item p-x-0 bg-none b-color-theme l-h-2-5\">\n                <router-link class=\"black-text\"\n                v-bind:to=\"{\n                    name:'view-thread',\n                    params: { thread_id: thread.thread_id },\n                    hash: '#checked_at'\n                }\">\n                <div class=\"container-sub\">\n                <span class=\"v-middle\">{{ thread.title }}</span>\n                <span v-if=\"thread.num_unreads != 0\" class=\"fs-0-8 p-badge rounded-30 blue white-text v-middle\">\n                    {{thread.num_unreads}}</span></div>\n                </router-link>\n            </li>\n        </ul>\n    </div>\n\n    <!-------- Popular -------->\n\n    <div id=\"tab-swipe-2\" class=\"col s12\">\n        <ul class=\"collection border-x-0 b-color-theme fs-1-1 m-y-0\">\n            <li v-for=\"(thread, index) in threads_popular\" v-bind:key=\"thread.id\"\n            class=\"collection-item p-x-0 bg-none b-color-theme l-h-2-5\">\n                <router-link class=\"black-text\"\n                v-bind:to=\"{ name:'view-thread', params: { thread_id: thread.thread_id } }\">\n                <div class=\"container-sub\">\n                    <table class=\"t-fixed\">\n                        <tr class=\"border-0\">\n                            <td class=\"p-0 w-35p center\">\n                                <span v-if=\"index < 3\" class=\"m-r-1 text-theme fw-b\">{{ index + 1 }}.</span>\n                                <span v-else class=\"m-r-1 text-theme\">{{ index + 1 }}.</span>\n                            </td>\n                            <td class=\"p-0\">{{ thread.title }}</td>\n                        </tr>\n                    </table>\n                </div>\n                </router-link>\n            </li>\n        </ul>\n    </div>\n\n    <!-------- Questionnaire -------->\n\n    <div id=\"tab-swipe-3\" class=\"col s12\">\n        <ul class=\"collection border-x-0 b-color-theme fs-1-1 m-y-0\">\n            <li v-for=\"vote in votes\" v-bind:key=\"vote.id\"\n            class=\"collection-item p-x-0 bg-none b-color-theme l-h-2-5\">\n                <router-link class=\"black-text\"\n                v-bind:to=\"{ name:'view-vote', params: { vote_id: vote.vote_id } }\">\n                <div class=\"container-sub\">{{ vote.title }}</div>\n                </router-link>\n            </li>\n        </ul>\n    </div>\n\n    <!-------- Add-Thread button -------->\n\n    <div v-if=\"!isVoteActive\" class=\"fixed-action-btn\">\n        <router-link to=\"/new-thread\" class=\"btn-floating btn-large bg-none z-depth-0\">\n            <i class=\"fa fa-plus text-theme\"></i>\n        </router-link>\n    </div>\n    <div v-if=\"isVoteActive\" class=\"fixed-action-btn\">\n        <router-link to=\"/new-vote\" class=\"btn-floating btn-large bg-none z-depth-0\">\n            <i class=\"fas fa-chart-bar text-theme\"></i>\n        </router-link>\n    </div>\n</div>\n</template>\n\n<script>\nimport db from './firebaseInit'\nimport firebase from 'firebase';\nimport M from 'materialize-css'\n\nexport default {\n    name : 'home',\n    data() {\n        return {\n            threads_latest: [],\n            threads_popular: [],\n            votes: [],\n            isVoteActive: false,\n            checked_at: {}\n        }\n    },\n    mounted() {\n\n        /* -------- Enable Materialize tab -------- */\n\n        var el = document.querySelector('.tabs');\n        var instance = M.Tabs.init(el, {\n            swipeable: true,\n        });\n\n        /* -------- Watch active tab  -------- */\n\n        const target = document.getElementById('tab-vote')\n        const observer = new MutationObserver(mutations => {\n            mutations.forEach((mutation) => {\n                console.log(mutation.target);\n                if(mutation.target.className == \"active\") this.isVoteActive = true;\n                else this.isVoteActive = false;\n            })\n        })\n\n        observer.observe(target, {\n            attributes: true,\n            attributeFilter: ['class']\n        })\n\n        document.querySelector(\".tabs-content\").setAttribute('style', 'height:100%;');\n    },\n    created() {\n\n        /* -------- Get user domain -------- */\n\n        var domain = firebase.auth().currentUser.email.split('@')[1];\n\n        /* -------- Get Threads data -------- */\n\n        db.collection('domains').doc(domain).collection('threads')\n        .orderBy('created_at').get().then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n                const data = {\n                    'id' : doc.id,\n                    'title' : doc.data().title,\n                    'thread_id' : doc.data().thread_id,\n                    'num_comments': doc.data().comments.length,\n                    'num_unreads': doc.data().comments.length\n                }\n                this.threads_latest.push(data);\n                this.threads_popular.push(data);\n                this.threads_popular.sort(\n                    (a, b) => b.num_comments - a.num_comments);\n            })\n        })\n\n        /*-------- Get user data --------*/\n\n        db.collection('users').doc(firebase.auth().currentUser.email)\n        .get().then(\n            doc => {\n                if(doc.exists) {\n                    this.checked_at = doc.data().checked_at;\n                    this.updateNumOfUnread();\n                }\n                else {\n                    this.checked_at = null;\n                    console.log(\"user doesn't exists.\");\n                }\n            }\n        )\n\n        /* -------- Get Votes data -------- */\n\n        db.collection('domains').doc(domain).collection('votes')\n        .orderBy('created_at').get().then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n                const data = {\n                    'id' : doc.id,\n                    'title' : doc.data().title,\n                    'vote_id' : doc.data().vote_id,\n                }\n                this.votes.push(data);;\n            })\n        })\n    },\n    methods: {\n        updateNumOfUnread: function() {\n            if(this.checked_at === null) {\n                return;\n            }\n            this.threads_latest.forEach((thread, index, array) => {\n                if(thread.id in this.checked_at) {\n                    array.splice(index, 1, {\n                        'id' : thread.id,\n                        'title' : thread.title,\n                        'thread_id' : thread.thread_id,\n                        'num_comments': thread.num_comments,\n                        'num_unreads': thread.num_comments - this.checked_at[thread.id]\n                    })\n                }\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-100 h-100\",attrs:{\"id\":\"home\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"col s12\",attrs:{\"id\":\"tab-swipe-1\"}},[_c('ul',{staticClass:\"collection border-x-0 b-color-theme fs-1-1 m-y-0\"},_vm._l((_vm.threads_latest),function(thread){return _c('li',{key:thread.id,staticClass:\"collection-item p-x-0 bg-none b-color-theme l-h-2-5\"},[_c('router-link',{staticClass:\"black-text\",attrs:{\"to\":{\n                    name:'view-thread',\n                    params: { thread_id: thread.thread_id },\n                    hash: '#checked_at'\n                }}},[_c('div',{staticClass:\"container-sub\"},[_c('span',{staticClass:\"v-middle\"},[_vm._v(_vm._s(thread.title))]),_vm._v(\" \"),(thread.num_unreads != 0)?_c('span',{staticClass:\"fs-0-8 p-badge rounded-30 blue white-text v-middle\"},[_vm._v(\"\\n                    \"+_vm._s(thread.num_unreads))]):_vm._e()])])],1)}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"col s12\",attrs:{\"id\":\"tab-swipe-2\"}},[_c('ul',{staticClass:\"collection border-x-0 b-color-theme fs-1-1 m-y-0\"},_vm._l((_vm.threads_popular),function(thread,index){return _c('li',{key:thread.id,staticClass:\"collection-item p-x-0 bg-none b-color-theme l-h-2-5\"},[_c('router-link',{staticClass:\"black-text\",attrs:{\"to\":{ name:'view-thread', params: { thread_id: thread.thread_id } }}},[_c('div',{staticClass:\"container-sub\"},[_c('table',{staticClass:\"t-fixed\"},[_c('tr',{staticClass:\"border-0\"},[_c('td',{staticClass:\"p-0 w-35p center\"},[(index < 3)?_c('span',{staticClass:\"m-r-1 text-theme fw-b\"},[_vm._v(_vm._s(index + 1)+\".\")]):_c('span',{staticClass:\"m-r-1 text-theme\"},[_vm._v(_vm._s(index + 1)+\".\")])]),_vm._v(\" \"),_c('td',{staticClass:\"p-0\"},[_vm._v(_vm._s(thread.title))])])])])])],1)}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"col s12\",attrs:{\"id\":\"tab-swipe-3\"}},[_c('ul',{staticClass:\"collection border-x-0 b-color-theme fs-1-1 m-y-0\"},_vm._l((_vm.votes),function(vote){return _c('li',{key:vote.id,staticClass:\"collection-item p-x-0 bg-none b-color-theme l-h-2-5\"},[_c('router-link',{staticClass:\"black-text\",attrs:{\"to\":{ name:'view-vote', params: { vote_id: vote.vote_id } }}},[_c('div',{staticClass:\"container-sub\"},[_vm._v(_vm._s(vote.title))])])],1)}),0)]),_vm._v(\" \"),(!_vm.isVoteActive)?_c('div',{staticClass:\"fixed-action-btn\"},[_c('router-link',{staticClass:\"btn-floating btn-large bg-none z-depth-0\",attrs:{\"to\":\"/new-thread\"}},[_c('i',{staticClass:\"fa fa-plus text-theme\"})])],1):_vm._e(),_vm._v(\" \"),(_vm.isVoteActive)?_c('div',{staticClass:\"fixed-action-btn\"},[_c('router-link',{staticClass:\"btn-floating btn-large bg-none z-depth-0\",attrs:{\"to\":\"/new-vote\"}},[_c('i',{staticClass:\"fas fa-chart-bar text-theme\"})])],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"tabs bg-none\",attrs:{\"id\":\"tabs-swipe-ul\"}},[_c('li',{staticClass:\"tab col s3\"},[_c('a',{staticClass:\"active\",attrs:{\"href\":\"#tab-swipe-1\"}},[_vm._v(\"最新\")])]),_vm._v(\" \"),_c('li',{staticClass:\"tab col s3\"},[_c('a',{attrs:{\"href\":\"#tab-swipe-2\"}},[_vm._v(\"話題\")])]),_vm._v(\" \"),_c('li',{staticClass:\"tab col s3\"},[_c('a',{attrs:{\"href\":\"#tab-swipe-3\",\"id\":\"tab-vote\"}},[_vm._v(\"投票\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5bd3a60c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5bd3a60c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5bd3a60c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5bd3a60c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"menu\" class=\"container\">\n    <ul class=\"collection border-0 m-y-1-125 fs-1-2\">\n        <li class=\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\">\n            <img class=\"p-r-1 v-align-m\" src=\"../assets/image/at-sign.svg\"/>{{domain}}\n        </li>\n        <li class=\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\">\n            <router-link to=\"/\" class=\"black-font\"><div class=\"black-text\">\n                <img class=\"p-r-1 v-align-m\" src=\"../assets/image/home.svg\"/>TOP</div>\n            </router-link>\n        </li>\n        <li class=\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\">\n            <router-link to=\"/terms\" class=\"black-font\"><div class=\"black-text\">\n                <img class=\"p-r-1 v-align-m\" src=\"../assets/image/book.svg\"/>利用規約</div>\n            </router-link>\n        </li>\n        <li class=\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\">\n            <div v-on:click=\"logout\" class=\"\">\n                <img class=\"p-r-1 v-align-m\" src=\"../assets/image/log-out.svg\"/>ログアウト</div>\n        </li>\n    </ul>\n</div>\n</template>\n\n<script>\nimport firebase from 'firebase';\nexport default {\n    name : 'menu',\n    data() {\n        return {\n        }\n    },\n    computed: {\n        domain: function() {\n            return firebase.auth().currentUser.email.split('@')[1];\n        }\n    },\n    methods: {\n        logout: function() {\n            firebase.auth().signOut().then(() => {\n                this.$router.go({path: this.$router.path});\n            });\n        }\n    }\n}\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Menu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"menu\"}},[_c('ul',{staticClass:\"collection border-0 m-y-1-125 fs-1-2\"},[_c('li',{staticClass:\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\"},[_c('img',{staticClass:\"p-r-1 v-align-m\",attrs:{\"src\":require(\"../assets/image/at-sign.svg\")}}),_vm._v(_vm._s(_vm.domain)+\"\\n        \")]),_vm._v(\" \"),_c('li',{staticClass:\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\"},[_c('router-link',{staticClass:\"black-font\",attrs:{\"to\":\"/\"}},[_c('div',{staticClass:\"black-text\"},[_c('img',{staticClass:\"p-r-1 v-align-m\",attrs:{\"src\":require(\"../assets/image/home.svg\")}}),_vm._v(\"TOP\")])])],1),_vm._v(\" \"),_c('li',{staticClass:\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\"},[_c('router-link',{staticClass:\"black-font\",attrs:{\"to\":\"/terms\"}},[_c('div',{staticClass:\"black-text\"},[_c('img',{staticClass:\"p-r-1 v-align-m\",attrs:{\"src\":require(\"../assets/image/book.svg\")}}),_vm._v(\"利用規約\")])])],1),_vm._v(\" \"),_c('li',{staticClass:\"collection-item p-x-0 bg-none w-100 b-color-theme l-h-2-5\"},[_c('div',{on:{\"click\":_vm.logout}},[_c('img',{staticClass:\"p-r-1 v-align-m\",attrs:{\"src\":require(\"../assets/image/log-out.svg\")}}),_vm._v(\"ログアウト\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00eea3da\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Menu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00eea3da\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Menu.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Menu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Menu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00eea3da\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-00eea3da\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Menu.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"terms\"}},[_c('div',{staticClass:\"fs-1-5 fw-b m-y-1-125\"},[_vm._v(\"利用規約\")]),_vm._v(\" \"),_c('p',{staticClass:\"pt-2\"},[_vm._v(\"この利用規約（以下、「本規約」といいます。）は、管理人がこのウェブサイト上で提供するサービス（以下、「本サービス」といいます。）の利用条件を定めるものです。登録ユーザーの皆さま（以下、「ユーザー」といいます。）には、本規約に従って、本サービスをご利用いただきます。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第1条（適用）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"本規約は、ユーザーと管理人との間の本サービスの利用に関わる一切の関係に適用されるものとします。\\n    管理人は本サービスに関し、本規約のほか、ご利用にあたってのルール等、各種の定め（以下、「個別規定」といいます。）をすることがあります。これら個別規定はその名称のいかんに関わらず、本規約の一部を構成するものとします。\\n    本規約の規定が前条の個別規定の規定と矛盾する場合には、個別規定において特段の定めなき限り、個別規定の規定が優先されるものとします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第2条（利用登録）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"本サービスにおいては、登録希望者が本規約に同意の上、管理人の定める方法によって利用登録を申請し、管理人がこれを承認することによって、利用登録が完了するものとします。\\n    管理人は、利用登録の申請者に以下の事由があると判断した場合、利用登録の申請を承認しないことがあり、その理由については一切の開示義務を負わないものとします。\\n    利用登録の申請に際して虚偽の事項を届け出た場合\\n    本規約に違反したことがある者からの申請である場合\\n    その他、管理人が利用登録を相当でないと判断した場合\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第3条（ユーザーIDおよびパスワードの管理）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ユーザーは、自己の責任において、本サービスのユーザーIDおよびパスワードを適切に管理するものとします。\\n    ユーザーは、いかなる場合にも、ユーザーIDおよびパスワードを第三者に譲渡または貸与し、もしくは第三者と共用することはできません。管理人は、ユーザーIDとパスワードの組み合わせが登録情報と一致してログインされた場合には、そのユーザーIDを登録しているユーザー自身による利用とみなします。\\n    ユーザーID及びパスワードが第三者によって使用されたことによって生じた損害は、管理人に故意又は重大な過失がある場合を除き、管理人は一切の責任を負わないものとします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第4条（利用料金および支払方法）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ユーザーは、本サービスの有料部分の対価として、管理人が別途定め、本ウェブサイトに表示する利用料金を、管理人が指定する方法により支払うものとします。\\n    ユーザーが利用料金の支払を遅滞した場合には、ユーザーは年14．6％の割合による遅延損害金を支払うものとします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第5条（禁止事項）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ユーザーは、本サービスの利用にあたり、以下の行為をしてはなりません。\\n    \\n    法令または公序良俗に違反する行為\"),_c('br'),_vm._v(\"\\n    犯罪行為に関連する行為\"),_c('br'),_vm._v(\"\\n    本サービスの内容等、本サービスに含まれる著作権、商標権ほか知的財産権を侵害する行為\"),_c('br'),_vm._v(\"\\n    管理人、ほかのユーザー、またはその他第三者のサーバーまたはネットワークの機能を破壊したり、妨害したりする行為\"),_c('br'),_vm._v(\"\\n    本サービスによって得られた情報を商業的に利用する行為\"),_c('br'),_vm._v(\"\\n    管理人のサービスの運営を妨害するおそれのある行為\"),_c('br'),_vm._v(\"\\n    不正アクセスをし、またはこれを試みる行為\"),_c('br'),_vm._v(\"\\n    他のユーザーに関する個人情報等を収集または蓄積する行為\"),_c('br'),_vm._v(\"\\n    不正な目的を持って本サービスを利用する行為\"),_c('br'),_vm._v(\"\\n    本サービスの他のユーザーまたはその他の第三者に不利益、損害、不快感を与える行為\"),_c('br'),_vm._v(\"\\n    他のユーザーに成りすます行為\"),_c('br'),_vm._v(\"\\n    管理人が許諾しない本サービス上での宣伝、広告、勧誘、または営業行為\"),_c('br'),_vm._v(\"\\n    面識のない異性との出会いを目的とした行為\"),_c('br'),_vm._v(\"\\n    管理人のサービスに関連して、反社会的勢力に対して直接または間接に利益を供与する行為\"),_c('br'),_vm._v(\"\\n    その他、管理人が不適切と判断する行為\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第6条（本サービスの提供の停止等）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"管理人は、以下のいずれかの事由があると判断した場合、ユーザーに事前に通知することなく本サービスの全部または一部の提供を停止または中断することができるものとします。\\n    本サービスにかかるコンピュータシステムの保守点検または更新を行う場合\\n    地震、落雷、火災、停電または天災などの不可抗力により、本サービスの提供が困難となった場合\\n    コンピュータまたは通信回線等が事故により停止した場合\\n    その他、管理人が本サービスの提供が困難と判断した場合\\n    管理人は、本サービスの提供の停止または中断により、ユーザーまたは第三者が被ったいかなる不利益または損害についても、一切の責任を負わないものとします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第7条（利用制限および登録抹消）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"管理人は、ユーザーが以下のいずれかに該当する場合には、事前の通知なく、ユーザーに対して、本サービスの全部もしくは一部の利用を制限し、またはユーザーとしての登録を抹消することができるものとします。\\n    本規約のいずれかの条項に違反した場合\"),_c('br'),_vm._v(\"\\n    登録事項に虚偽の事実があることが判明した場合\"),_c('br'),_vm._v(\"\\n    料金等の支払債務の不履行があった場合\"),_c('br'),_vm._v(\"\\n    管理人からの連絡に対し、一定期間返答がない場合\"),_c('br'),_vm._v(\"\\n    本サービスについて、最終の利用から一定期間利用がない場合\"),_c('br'),_vm._v(\"\\n    その他、管理人が本サービスの利用を適当でないと判断した場合\"),_c('br'),_vm._v(\"\\n    管理人は、本条に基づき管理人が行った行為によりユーザーに生じた損害について、一切の責任を負いません。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第8条（退会）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ユーザーは、管理人の定める退会手続により、本サービスから退会できるものとします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第9条（保証の否認および免責事項）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"管理人は、本サービスに事実上または法律上の瑕疵（安全性、信頼性、正確性、完全性、有効性、特定の目的への適合性、セキュリティなどに関する欠陥、エラーやバグ、権利侵害などを含みます。）がないことを明示的にも黙示的にも保証しておりません。\\n    管理人は、本サービスに起因してユーザーに生じたあらゆる損害について一切の責任を負いません。ただし、本サービスに関する管理人とユーザーとの間の契約（本規約を含みます。）が消費者契約法に定める消費者契約となる場合、この免責規定は適用されません。\\n    前項ただし書に定める場合であっても、管理人は、管理人の過失（重過失を除きます。）による債務不履行または不法行為によりユーザーに生じた損害のうち特別な事情から生じた損害（管理人またはユーザーが損害発生につき予見し、または予見し得た場合を含みます。）について一切の責任を負いません。また、管理人の過失（重過失を除きます。）による債務不履行または不法行為によりユーザーに生じた損害の賠償は、ユーザーから当該損害が発生した月に受領した利用料の額を上限とします。\\n    管理人は、本サービスに関して、ユーザーと他のユーザーまたは第三者との間において生じた取引、連絡または紛争等について一切責任を負いません。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第10条（サービス内容の変更等）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"管理人は、ユーザーに通知することなく、本サービスの内容を変更しまたは本サービスの提供を中止することができるものとし、これによってユーザーに生じた損害について一切の責任を負いません。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第11条（利用規約の変更）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"管理人は、必要と判断した場合には、ユーザーに通知することなくいつでも本規約を変更することができるものとします。なお、本規約の変更後、本サービスの利用を開始した場合には、当該ユーザーは変更後の規約に同意したものとみなします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第12条（個人情報の取扱い）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"管理人は、本サービスの利用によって取得する個人情報については、管理人「プライバシーポリシー」に従い適切に取り扱うものとします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第13条（通知または連絡）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ユーザーと管理人との間の通知または連絡は、管理人の定める方法によって行うものとします。管理人は,ユーザーから,管理人が別途定める方式に従った変更届け出がない限り,現在登録されている連絡先が有効なものとみなして当該連絡先へ通知または連絡を行い,これらは,発信時にユーザーへ到達したものとみなします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第14条（権利義務の譲渡の禁止）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ユーザーは、管理人の書面による事前の承諾なく、利用契約上の地位または本規約に基づく権利もしくは義務を第三者に譲渡し、または担保に供することはできません。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第15条（準拠法・裁判管轄）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"本規約の解釈にあたっては、日本法を準拠法とします。\\n    本サービスに関して紛争が生じた場合には、管理人の本店所在地を管轄する裁判所を専属的合意管轄とします。\")]),_vm._v(\" \"),_c('div',{staticClass:\"fw-b\"},[_vm._v(\"第16条（お問い合わせ窓口）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"お問い合わせは\"),_c('a',{attrs:{\"href\":\"/menu/imprint\"}},[_vm._v(\"こちら\")]),_vm._v(\"まで。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"以上。\")]),_c('br')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-141c76e0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Terms.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-141c76e0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Terms.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-141c76e0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Terms.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-141c76e0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Terms.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"new-thread\" class=\"container\">\n    <div class=\"row m-t-1\">\n        <form @submit.prevent=\"saveThread\" class=\"col s12 p-x-0 fs-1-1\">\n            <input type=\"text\" class=\"grey lighten-3 border-0 rounded-10\"\n            placeholder=\"スレッドタイトル\" v-model=\"title\" required>\n            <textarea class=\"grey lighten-3 border-0 rounded-10 h-10 p-1\"\n            placeholder=\"最初のコメント\" v-model=\"comment\" required></textarea>\n            <button type=\"submit\" class=\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\n            bg-theme z-depth-0 right\">作成する</button>\n            <router-link to=\"/\" class=\"m-y-1 left fs-1\">キャンセル</router-link>\n        </form>\n    </div>\n</div>\n</template>\n\n<script>\nimport db from './firebaseInit';\nimport firebase from 'firebase';\nimport {uuid} from 'vue-uuid';\n\nexport default {\n    name : 'new-thread',\n    data() {\n        return {\n            thread_id : null,\n            title: null,\n            comment : null\n        }\n    },\n    created() {\n        this.thread_id = this.$uuid.v1();\n    },\n    methods: {\n        saveThread() {\n            var domain = firebase.auth().currentUser.email.split('@')[1];\n            var date = new Date();\n\n            /* ---- Create thread under domain/{domainId}/threads/ ---- */\n\n            var likes = [];\n            for (let i = 0; i < process.env.VUE_APP_MAX_NUM_COMMENTS; i++) {\n                likes.push(0);\n            }\n\n            db.collection('domains').doc(domain).collection('threads').add({\n                thread_id: this.thread_id,\n                title: this.title,\n                likes: likes,\n                num_shards: process.env.VUE_APP_NUM_SHARD,\n                comments:\n                    [{\n                        comment: this.comment,\n                        posted_at: date,\n                        user_id: firebase.auth().currentUser.uid\n                    }],\n                created_at: date\n                \n            })\n            .then(docRef => {\n\n                /* ---- Create Shards under domain/{domainId}/thread/{threadId}/ ---- */\n\n                for (let i = 0; i < process.env.VUE_APP_NUM_SHARD; i++) {\n                    docRef.collection('shards').doc(i.toString()).set({likes: []})\n                }\n                this.$router.push({ name: 'view-thread', params: { thread_id: this.thread_id } })\n            })\n            .catch(error => console.log(error))\n        }\n    }\n}\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/NewThread.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"new-thread\"}},[_c('div',{staticClass:\"row m-t-1\"},[_c('form',{staticClass:\"col s12 p-x-0 fs-1-1\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveThread($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"grey lighten-3 border-0 rounded-10\",attrs:{\"type\":\"text\",\"placeholder\":\"スレッドタイトル\",\"required\":\"\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],staticClass:\"grey lighten-3 border-0 rounded-10 h-10 p-1\",attrs:{\"placeholder\":\"最初のコメント\",\"required\":\"\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\\n            bg-theme z-depth-0 right\",attrs:{\"type\":\"submit\"}},[_vm._v(\"作成する\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"m-y-1 left fs-1\",attrs:{\"to\":\"/\"}},[_vm._v(\"キャンセル\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59772ef2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NewThread.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59772ef2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewThread.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewThread.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewThread.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59772ef2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewThread.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-59772ef2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NewThread.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"view-thread\" class=\"container-100\">\n\n    <!-------- Title -------->\n\n    <div class=\"fs-1-3 fw-b p-y-3 grey lighten-4\"><div class=\"blue-text center\">{{ title }}</div></div>\n\n    <!-------- Old Comments -------->\n\n    <ul v-if=\"checked_at !== 0\" class=\"collection border-x-0 b-color-theme m-y-0\">\n        <li class=\"collection-item bg-none b-color-theme p-x-0\" v-for=\"(comment, index) in oldComments\">\n            <div class=\"container-sub m-t-1\">\n                <table class=\"t-fixed\">\n                    <tr class=\"border-0\">\n                        <td class=\"p-0 w-2-5 center v-align-t p-r-1\">\n                            <div v-bind:id=\"index+1\" class=\"fs-0-8 blue-text fw-b\">\n                                <i class=\"fas fa-user-circle fs-1-5 blue-grey-text text-lighten-4\"\n                                ></i>\n                            </div>\n                        </td>\n                        <td class=\"p-0 v-align-t\">\n                            <div class=\"fs-0-8 m-b-1 grey-text text-lighten-2\">\n                                <span class=\"m-r-0-5\">{{ index+1 }}. 名無しさん</span>\n                                <span class=\"m-r-0-5\">通報</span>\n                                <span class=\"m-r-1\" v-if=\"comment.now_added\">now</span>\n                                <span class=\"m-r-1\" v-if=\"!comment.now_added\">{{ comment.posted_at.toDate().toDateString() }}</span>\n                                <span class=\"\" v-if=\"!likes.includes(index)\"\n                                @click=\"updateLike(index)\"><i class=\"far fa-heart\"></i></span>\n                            </div>\n                            <div class=\"fs-1-1 m-b-2\">{{ comment.comment }}</div>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </li>\n    </ul>\n\n    <!-------- Already read until here -------->\n\n    <div  id=\"checked_at\" v-if=\"checked_at !== 0 && checked_at !== comments.length\" class=\"center grey lighten-4 p-y-3\">\n        <div class=\"center b-color-theme\">\n            <i class=\"far fa-check-circle fs-3 blue-text m-r-1 v-middle\"></i>\n            <span class=\"fs-1 fw-b v-middle\">ここから未読</span>\n        </div>\n    </div>\n    \n    <!-------- New Comments -------->\n    \n    <ul class=\"collection border-x-0 b-color-theme m-y-0\">\n        <li class=\"collection-item bg-none b-color-theme p-x-0\" v-for=\"(comment, index) in newComments\">\n            <div class=\"container-sub m-t-1\">\n                <table class=\"t-fixed\">\n                    <tr class=\"border-0\">\n                        <td class=\"p-0 w-2-5 center v-align-t p-r-1\">\n                            <div v-bind:id=\"index+1\" class=\"fs-0-8 blue-text fw-b\">\n                                <i class=\"fas fa-user-circle fs-1-5 blue-grey-text text-lighten-4\"></i>\n                            </div>\n                        </td>\n                        <td class=\"p-0 v-align-t\">\n                            <div class=\"fs-0-8 m-b-1 grey-text text-lighten-2\">\n                                <span class=\"m-r-0-5\">{{ index+1 }}. 名無しさん</span>\n                                <span class=\"m-r-0-5\">通報</span>\n                                <span class=\"m-r-1\" v-if=\"comment.now_added\">now</span>\n                                <span class=\"m-r-1\" v-if=\"!comment.now_added\">{{ comment.posted_at.toDate().toDateString() }}</span>\n                                <span class=\"\" v-if=\"!likes.includes(index)\"\n                                @click=\"updateLike(index)\"><i class=\"far fa-heart\"></i></span>\n                            </div>\n                            <div class=\"fs-1-1 m-b-2\">{{ comment.comment }}</div>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </li>\n    </ul>\n\n    <!-------- Add-Comment button -------->\n\n    <!-------- PC -------->\n\n    <div class=\"fixed-action-btn grey lighten-4 rounded-30 p-0-5 hide-on-small-only\">\n        <a href=\"#new-comment\" class=\"btn-floating bg-none lighten-5 z-depth-0 modal-trigger m-x-0-5\">\n            <i class=\"fas fa-comment text-theme\"></i>\n        </a>\n        <router-link to=\"/\" class=\"btn-floating bg-none lighten-5 z-depth-0 modal-trigger m-x-0-5\">\n            <i class=\"fas fa-home text-theme\"></i>\n        </router-link>\n    </div>\n\n    <!-------- Mobile -------->\n\n    <div class=\"fixed-action-btn p-0-5 hide-on-med-and-up\">\n        <a href=\"#new-comment\" class=\"btn-floating bg-none lighten-5 z-depth-0 modal-trigger\">\n            <i class=\"fas fa-comment text-theme\"></i>\n        </a>\n    </div>\n\n    <!-------- Modal input -------->\n\n    <div id=\"new-comment\" class=\"modal bottom-sheet rounded-10-top\">\n        <div class=\"container-100 row modal-content\">\n            <form @submit.prevent=\"saveComment\" class=\"col p-1 s12 p-x-0 fs-1-1\">\n                <textarea class=\"grey lighten-3 border-0 rounded-10 h-10 p-1\"\n                placeholder=\"コメント\" v-model=\"comment\" required></textarea>\n                <button type=\"submit\" class=\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\n                bg-theme z-depth-0 right\">コメントする</button>\n            </form>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport db from './firebaseInit'\nimport firebase from 'firebase';\nimport M from 'materialize-css'\nimport VueScrollTo from 'vue-scrollto'\n\nexport default {\n    name : 'view-thread',\n    data() {\n        return {\n\n            /*-------- Thread data --------*/\n\n            doc_id: null,\n            thread_id: null,\n            title: null,\n            comments: [],\n\n            /*-------- User data --------*/\n\n            likes: [],\n            checked_at: 0,\n\n            /*-------- Modal input --------*/\n\n            comment: null\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        var domain = firebase.auth().currentUser.email.split('@')[1];\n        db.collection('domains').doc(domain).collection('threads')\n        .where('thread_id', '==', to.params.thread_id).get()\n        .then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n                next(vm => {\n                    vm.doc_id = doc.id\n                    vm.thread_id = doc.data().thread_id\n                    vm.title = doc.data().title\n                    vm.comments = doc.data().comments\n                })\n            })\n        })\n    },\n    mounted() {\n\n        /*-------- Get user data --------*/\n\n        db.collection('users').doc(firebase.auth().currentUser.email)\n        .get().then(\n            doc => {\n                if(doc.exists) {\n                    const likes = doc.get(\"likes.\" + this.doc_id);\n                    const checked_at = doc.get(\"checked_at.\" + this.doc_id);\n                    if(typeof likes !== \"undefined\") this.likes = likes;\n                    if(typeof checked_at !== \"undefined\") this.checked_at = checked_at;\n                }\n                else {\n                    this.checked_at = this.comments.length;\n                    console.log(\"user doesn't exists.\");\n                }\n                this.updateCheckedAt(this.doc_id, this.comments.length);\n            }\n        )\n\n        /*-------- Initialize Modal input --------*/\n\n        var elems = document.querySelectorAll('.modal');\n        M.Modal.init(elems, {});\n    },\n    updated () {\n        this.$nextTick(() => {\n            var element = document.querySelector('#checked_at');\n            if(element == null) return;\n            VueScrollTo.scrollTo(element, 300, {});\n        });\n    },\n    watch: {\n        '$route' : 'fetchData'\n    },\n    methods: {\n        fetchData() {\n            var domain = firebase.auth().currentUser.email.split('@')[1];\n            db.collection('domains').doc(domain).collection('threads')\n            .where('thread_id', '==', this.$route.params.thread_id)\n            .get().then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    this.doc_id = doc.id\n                    this.thread_id = doc.data().thread_id\n                    this.title = doc.data().title\n                    this.comments = doc.data().comments\n                })\n            })\n        },\n        updateCheckedAt(thread_doc_id, index) {\n            db.collection('users').doc(firebase.auth().currentUser.email).update({\n                [`checked_at.${thread_doc_id}`]: index\n            });\n        },\n        updateLike(index) {\n            const self = this;\n            const domain = firebase.auth().currentUser.email.split('@')[1];\n            const shard_id = Math.floor(Math.random() * process.env.VUE_APP_NUM_SHARD).toString();\n\n            db.collection('domains').doc(domain).collection('threads')\n            .where('thread_id', '==', this.$route.params.thread_id).limit(1)\n            .get().then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    db.collection('domains').doc(domain).collection(\"threads\").doc(doc.id)\n                    .collection('shards').doc(shard_id).update({\n                        likes: firebase.firestore.FieldValue.arrayUnion(index)\n                    });\n                    self.addLike(doc.id, index);\n                    self.likes.push(index);\n                })\n            })\n        },\n        addLike(thread_doc_id, index) {\n            db.collection('users').doc(firebase.auth().currentUser.email).update({\n                [`likes.${thread_doc_id}`]: firebase.firestore.FieldValue.arrayUnion(index)\n            });\n        },\n        saveComment() {\n            var domain = firebase.auth().currentUser.email.split('@')[1];\n            db.collection('domains').doc(domain).collection('threads')\n            .where('thread_id', '==', this.$route.params.thread_id)\n            .get().then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    db.collection('domains').doc(domain).collection(\"threads\").doc(doc.id).update({\n                        comments: firebase.firestore.FieldValue.arrayUnion({\n                            comment: this.comment,\n                            posted_at: new Date(),\n                            user_id: firebase.auth().currentUser.uid\n                        })\n                    });\n                })\n            })\n            this.comments.push({\n                comment: this.comment,\n                user_id: firebase.auth().currentUser.uid,\n                now_added: true,\n            });\n            var elem = document.querySelector('.modal');\n            M.Modal.getInstance(elem).close();\n        }\n    },\n    computed: {\n        oldComments: function() {\n            \n            return this.comments.slice(0, this.checked_at);\n        },\n        newComments: function() {\n            return this.comments.slice(this.checked_at, this.comments.length);\n        },\n        // colorObject: function(random_num) {\n        //     var color = ['red', 'pink', 'purple', 'deep-purple', 'indigo', 'blue', 'light-blue', 'cyan',\n        //     'teal', 'green', 'light-green', 'orange', 'deep-orange', 'brown',\n        //     'blue-grey'];\n        //     // grey, yellow, lime, amber\n        //     return function (random_num) {\n        //         return color[Math.floor(random_num * color.length)] + '-text';\n        //     };\n        // }\n    }\n}\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ViewThread.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-100\",attrs:{\"id\":\"view-thread\"}},[_c('div',{staticClass:\"fs-1-3 fw-b p-y-3 grey lighten-4\"},[_c('div',{staticClass:\"blue-text center\"},[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),(_vm.checked_at !== 0)?_c('ul',{staticClass:\"collection border-x-0 b-color-theme m-y-0\"},_vm._l((_vm.oldComments),function(comment,index){return _c('li',{staticClass:\"collection-item bg-none b-color-theme p-x-0\"},[_c('div',{staticClass:\"container-sub m-t-1\"},[_c('table',{staticClass:\"t-fixed\"},[_c('tr',{staticClass:\"border-0\"},[_c('td',{staticClass:\"p-0 w-2-5 center v-align-t p-r-1\"},[_c('div',{staticClass:\"fs-0-8 blue-text fw-b\",attrs:{\"id\":index+1}},[_c('i',{staticClass:\"fas fa-user-circle fs-1-5 blue-grey-text text-lighten-4\"})])]),_vm._v(\" \"),_c('td',{staticClass:\"p-0 v-align-t\"},[_c('div',{staticClass:\"fs-0-8 m-b-1 grey-text text-lighten-2\"},[_c('span',{staticClass:\"m-r-0-5\"},[_vm._v(_vm._s(index+1)+\". 名無しさん\")]),_vm._v(\" \"),_c('span',{staticClass:\"m-r-0-5\"},[_vm._v(\"通報\")]),_vm._v(\" \"),(comment.now_added)?_c('span',{staticClass:\"m-r-1\"},[_vm._v(\"now\")]):_vm._e(),_vm._v(\" \"),(!comment.now_added)?_c('span',{staticClass:\"m-r-1\"},[_vm._v(_vm._s(comment.posted_at.toDate().toDateString()))]):_vm._e(),_vm._v(\" \"),(!_vm.likes.includes(index))?_c('span',{on:{\"click\":function($event){return _vm.updateLike(index)}}},[_c('i',{staticClass:\"far fa-heart\"})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"fs-1-1 m-b-2\"},[_vm._v(_vm._s(comment.comment))])])])])])])}),0):_vm._e(),_vm._v(\" \"),(_vm.checked_at !== 0 && _vm.checked_at !== _vm.comments.length)?_c('div',{staticClass:\"center grey lighten-4 p-y-3\",attrs:{\"id\":\"checked_at\"}},[_vm._m(0)]):_vm._e(),_vm._v(\" \"),_c('ul',{staticClass:\"collection border-x-0 b-color-theme m-y-0\"},_vm._l((_vm.newComments),function(comment,index){return _c('li',{staticClass:\"collection-item bg-none b-color-theme p-x-0\"},[_c('div',{staticClass:\"container-sub m-t-1\"},[_c('table',{staticClass:\"t-fixed\"},[_c('tr',{staticClass:\"border-0\"},[_c('td',{staticClass:\"p-0 w-2-5 center v-align-t p-r-1\"},[_c('div',{staticClass:\"fs-0-8 blue-text fw-b\",attrs:{\"id\":index+1}},[_c('i',{staticClass:\"fas fa-user-circle fs-1-5 blue-grey-text text-lighten-4\"})])]),_vm._v(\" \"),_c('td',{staticClass:\"p-0 v-align-t\"},[_c('div',{staticClass:\"fs-0-8 m-b-1 grey-text text-lighten-2\"},[_c('span',{staticClass:\"m-r-0-5\"},[_vm._v(_vm._s(index+1)+\". 名無しさん\")]),_vm._v(\" \"),_c('span',{staticClass:\"m-r-0-5\"},[_vm._v(\"通報\")]),_vm._v(\" \"),(comment.now_added)?_c('span',{staticClass:\"m-r-1\"},[_vm._v(\"now\")]):_vm._e(),_vm._v(\" \"),(!comment.now_added)?_c('span',{staticClass:\"m-r-1\"},[_vm._v(_vm._s(comment.posted_at.toDate().toDateString()))]):_vm._e(),_vm._v(\" \"),(!_vm.likes.includes(index))?_c('span',{on:{\"click\":function($event){return _vm.updateLike(index)}}},[_c('i',{staticClass:\"far fa-heart\"})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"fs-1-1 m-b-2\"},[_vm._v(_vm._s(comment.comment))])])])])])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"fixed-action-btn grey lighten-4 rounded-30 p-0-5 hide-on-small-only\"},[_vm._m(1),_vm._v(\" \"),_c('router-link',{staticClass:\"btn-floating bg-none lighten-5 z-depth-0 modal-trigger m-x-0-5\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-home text-theme\"})])],1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"modal bottom-sheet rounded-10-top\",attrs:{\"id\":\"new-comment\"}},[_c('div',{staticClass:\"container-100 row modal-content\"},[_c('form',{staticClass:\"col p-1 s12 p-x-0 fs-1-1\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveComment($event)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],staticClass:\"grey lighten-3 border-0 rounded-10 h-10 p-1\",attrs:{\"placeholder\":\"コメント\",\"required\":\"\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\\n                bg-theme z-depth-0 right\",attrs:{\"type\":\"submit\"}},[_vm._v(\"コメントする\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"center b-color-theme\"},[_c('i',{staticClass:\"far fa-check-circle fs-3 blue-text m-r-1 v-middle\"}),_vm._v(\" \"),_c('span',{staticClass:\"fs-1 fw-b v-middle\"},[_vm._v(\"ここから未読\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"btn-floating bg-none lighten-5 z-depth-0 modal-trigger m-x-0-5\",attrs:{\"href\":\"#new-comment\"}},[_c('i',{staticClass:\"fas fa-comment text-theme\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fixed-action-btn p-0-5 hide-on-med-and-up\"},[_c('a',{staticClass:\"btn-floating bg-none lighten-5 z-depth-0 modal-trigger\",attrs:{\"href\":\"#new-comment\"}},[_c('i',{staticClass:\"fas fa-comment text-theme\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d8e1ab1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ViewThread.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d8e1ab1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ViewThread.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewThread.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewThread.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d8e1ab1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ViewThread.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d8e1ab1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ViewThread.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"new-comment\" class=\"container\">\n    <div class=\"row m-t-1\">\n        <form @submit.prevent=\"saveComment\" class=\"col s12 p-x-0 fs-1-1\">\n            <textarea class=\"grey lighten-3 border-0 rounded-10 h-10 p-1\"\n            placeholder=\"コメント\" v-model=\"comment\" required></textarea>\n            <button type=\"submit\" class=\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\n            bg-theme z-depth-0 right\">コメントする</button>\n            <router-link to=\"/\" class=\"m-y-1 left fs-1\">キャンセル</router-link>\n        </form>\n    </div>\n</div>\n</template>\n\n<script>\nimport db from './firebaseInit'\nimport firebase from 'firebase'\nexport default {\n    name : 'new-comment',\n    data() {\n        return {\n            comment: null\n        }\n    },\n    methods: {\n        saveComment() {\n            var domain = firebase.auth().currentUser.email.split('@')[1];\n            db.collection('domains').doc(domain).collection('threads')\n            .where('thread_id', '==', this.$route.params.thread_id)\n            .get().then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    db.collection('domains').doc(domain).collection(\"threads\").doc(doc.id).update({\n                        comments: firebase.firestore.FieldValue.arrayUnion({\n                            comment: this.comment,\n                            posted_at: new Date(),\n                            user_id: firebase.auth().currentUser.uid\n                        })\n                    });\n                    this.$router.push({ name: 'view-thread',\n                    params: { thread_id: this.$route.params.thread_id } })\n                })\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/NewComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"new-comment\"}},[_c('div',{staticClass:\"row m-t-1\"},[_c('form',{staticClass:\"col s12 p-x-0 fs-1-1\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveComment($event)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],staticClass:\"grey lighten-3 border-0 rounded-10 h-10 p-1\",attrs:{\"placeholder\":\"コメント\",\"required\":\"\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\\n            bg-theme z-depth-0 right\",attrs:{\"type\":\"submit\"}},[_vm._v(\"コメントする\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"m-y-1 left fs-1\",attrs:{\"to\":\"/\"}},[_vm._v(\"キャンセル\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d599d3d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NewComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d599d3d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewComment.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d599d3d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7d599d3d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NewComment.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"new-vote\" class=\"container\">\n    <div class=\"row m-t-1\">\n        <form @submit.prevent=\"saveVote\" class=\"col s12 p-x-0 fs-1-1\">\n\n            <!-------- Title -------->\n\n            <input type=\"text\" class=\"grey lighten-3 border-0 rounded-10\"\n            placeholder=\"投票タイトル\" v-model=\"title\" required>\n\n            <!-------- Description -------->\n\n            <textarea class=\"grey lighten-3 border-0 rounded-10 h-10 p-1 m-b-1\"\n            placeholder=\"説明\" v-model=\"desc\" required></textarea>\n\n            <!-------- Candidates -------->\n\n            <input type=\"text\" class=\"blue lighten-5 border-0 rounded-10\"\n            placeholder=\"候補\" v-for=\"(candidate, index) in candidates\"\n            v-model=\"candidate.desc\" v-if=\"candidate.enabled\">\n            \n            <span v-if=\"!candidates[4].enabled\" @click=\"addCandidate\"\n            class=\"blue lighten-5 border-0 rounded-10 h-3 valign-wrapper m-b-1\">\n                <i class=\"fa fa-plus text-theme center m-l-1\"></i>\n            </span>\n\n            <!-------- Create button -------->\n\n            <button type=\"submit\" class=\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\n            bg-theme z-depth-0 right fs-1\">作成する</button>\n            <router-link to=\"/\" class=\"m-y-1 left fs-1\">キャンセル</router-link>\n        </form>\n    </div>\n</div>\n</template>\n\n<script>\nimport db from './firebaseInit';\nimport firebase from 'firebase';\nimport {uuid} from 'vue-uuid';\n\nexport default {\n    name : 'new-vote',\n    data() {\n        return {\n            vote_id: null,\n            title: null,\n            desc: null,\n            candidates: [\n                {desc: null, enabled: true},\n                {desc: null, enabled: true},\n                {desc: null, enabled: false},\n                {desc: null, enabled: false},\n                {desc: null, enabled: false}\n            ]\n        }\n    },\n    created() {\n        this.vote_id = this.$uuid.v1();\n    },\n    methods: {\n        saveVote() {\n            var domain = firebase.auth().currentUser.email.split('@')[1];\n            var date = new Date();\n\n            var candidates = [];\n            var votes = [];\n            for(let i = 0; i < 5; i++) {\n                if(this.candidates[i].enabled){\n                    candidates.push(this.candidates[i].desc);\n                    votes.push(0);\n                }\n            }\n\n            /* -------- Create vote under domain/{domainId}/votes/ -------- */\n\n            db.collection('domains').doc(domain).collection('votes').add({\n                vote_id: this.vote_id,\n                title: this.title,\n                desc: this.desc,\n                candidates: candidates,\n                votes: votes,\n                num_shards: process.env.VUE_APP_NUM_SHARD,\n                created_at: date\n            })\n            .then(docRef => {\n\n                /* -------- Create Shards under domain/{domainId}/vote/{voteId}/ -------- */\n\n                for (let i = 0; i < process.env.VUE_APP_NUM_SHARD; i++) {\n                    docRef.collection('shards').doc(i.toString()).set({votes: []})\n                }\n                // this.$router.push({ name: 'home', params: { view_id: this.view_id } })\n                this.$router.push({ name: 'home', params: { view_id: this.view_id } })\n            })\n            .catch(error => console.log(error))\n        },\n        addCandidate() {\n            for(let i = 0; i < 5; i++) {\n                if(!this.candidates[i].enabled) {\n                    this.candidates[i].enabled = true;\n                    return;\n                }\n            }\n        },\n    }\n}\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/NewVote.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"new-vote\"}},[_c('div',{staticClass:\"row m-t-1\"},[_c('form',{staticClass:\"col s12 p-x-0 fs-1-1\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveVote($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"grey lighten-3 border-0 rounded-10\",attrs:{\"type\":\"text\",\"placeholder\":\"投票タイトル\",\"required\":\"\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.desc),expression:\"desc\"}],staticClass:\"grey lighten-3 border-0 rounded-10 h-10 p-1 m-b-1\",attrs:{\"placeholder\":\"説明\",\"required\":\"\"},domProps:{\"value\":(_vm.desc)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.desc=$event.target.value}}}),_vm._v(\" \"),_vm._l((_vm.candidates),function(candidate,index){return (candidate.enabled)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(candidate.desc),expression:\"candidate.desc\"}],staticClass:\"blue lighten-5 border-0 rounded-10\",attrs:{\"type\":\"text\",\"placeholder\":\"候補\"},domProps:{\"value\":(candidate.desc)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(candidate, \"desc\", $event.target.value)}}}):_vm._e()}),_vm._v(\" \"),(!_vm.candidates[4].enabled)?_c('span',{staticClass:\"blue lighten-5 border-0 rounded-10 h-3 valign-wrapper m-b-1\",on:{\"click\":_vm.addCandidate}},[_c('i',{staticClass:\"fa fa-plus text-theme center m-l-1\"})]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"btn waves-effect waves-light h-3 rounded-10 w-50 m-y-1\\n            bg-theme z-depth-0 right fs-1\",attrs:{\"type\":\"submit\"}},[_vm._v(\"作成する\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"m-y-1 left fs-1\",attrs:{\"to\":\"/\"}},[_vm._v(\"キャンセル\")])],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f18bdfb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NewVote.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f18bdfb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewVote.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewVote.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewVote.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f18bdfb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewVote.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7f18bdfb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NewVote.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"view-vote\" class=\"container-100\">\n\n    <!-------- Title -------->\n\n    <div class=\"fs-1-3 fw-b p-y-3 grey lighten-4\"><div class=\"blue-text center\">{{ title }}</div></div>\n\n    <!-------- Description -------->\n\n    <div class=\"border-b\">\n    <div class=\"fs-1 container-sub m-y-1-125\">{{ desc }}</div>\n    </div>\n\n    <!-------- Votes nunmber and Time Limit -------->\n\n    <div class=\"border-b\">\n    <div class=\"fs-1-2 fw-b container-sub m-y-1-125 center\">\n        <span class=\"m-r-1\">投票数</span><span class=\"blue-text\">{{ this.deno }}</span>\n    </div>\n    </div>\n\n    <!-------- Votes -------->\n\n    <ul class=\"collection border-0 m-t-0\">\n\n        <!-------- Not voted yet, show vote -------->\n\n        <div v-if=\"isFetched && !isVoted\">\n        <li class=\"collection-item bg-none b-color-theme p-x-0\" v-for=\"(candidate, index) in candidates\">\n            <div class=\"container-sub\">\n                <div v-bind:id=\"index+1\" class=\"fs-1-1 m-b-1\">\n                    <span class=\"m-r-0-5 fw-b blue-text align-middle\">{{ index+1 }}.</span>\n                    <span class=\"m-b-2\">{{ candidate }}</span>\n                    <button class=\"btn rounded-30 blue right\" @click=\"updateVote(index)\">投票</button>\n                </div>\n            </div>\n        </li>\n        </div>\n        \n        <!-------- Already voted, show the result -------->\n        \n        <div v-if=\"isFetched && isVoted\" class=\"m-y-1-125\">\n        <li class=\"collection-item bg-none border-0 p-x-0 p-b-0\" v-for=\"(ratio, index) in ratios\">\n            <div class=\"container-sub\">\n                <div class=\"p-absolute fw-b fs-1 h-2-5 valign-wrapper\">\n                    <span class=\"m-l-1 m-r-0-5\">{{ ratio }}% </span><span class=\"\">{{ candidates[index] }}</span>\n                </div>\n                <div v-bind:id=\"index+1\" class=\"blue h-2-5 rounded-10 border-0\" v-bind:style=\"{width: ratio + '%'}\">\n                </div>\n            </div>\n        </li>\n        </div>\n        \n    </ul>\n</div>\n</template>\n\n<script>\nimport db from './firebaseInit'\nimport firebase from 'firebase';\n\nexport default {\n    name : 'view-vote',\n    data() {\n        return {\n            doc_id: null,\n            vote_id: null,\n            title: null,\n            desc: null,\n            candidates: [],\n            votes: [],\n            isVoted: false,\n            isFetched: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        var domain = firebase.auth().currentUser.email.split('@')[1];\n        db.collection('domains').doc(domain).collection('votes')\n        .where('vote_id', '==', to.params.vote_id).get()\n        .then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n                next(vm => {\n                    vm.doc_id = doc.id\n                    vm.vote_id = doc.data().vote_id\n                    vm.title = doc.data().title\n                    vm.desc = doc.data().desc\n                    vm.votes = doc.data().votes\n                    vm.candidates = doc.data().candidates\n                })\n            })\n        });\n    },\n    created() {\n        const self = this;\n        db.collection('users').doc(firebase.auth().currentUser.email)\n        .get().then(\n            doc => {\n                if(doc.exists) {\n                    const votes = doc.get(\"votes.\" + self.doc_id);\n                    if(typeof votes !== \"undefined\") {\n                        self.isVoted = true;\n                    }\n                }\n                else console.log(\"user doesn't exists.\");\n                self.isFetched = true;\n            }\n        )\n    },\n    watch: {\n        '$route' : 'fetchData'\n    },\n    computed: {\n        ratios: function() {\n            var ratios = [];\n            this.votes.forEach(vote => {\n                ratios.push(Math.round((vote/this.deno * 100) * 10)/10);\n            })\n            return ratios;\n        },\n        deno: function() {\n            var deno = 0;\n            this.votes.forEach(vote => {\n                deno += vote;\n            })\n            return deno;\n        }\n    },\n    methods: {\n        fetchData() {\n            var domain = firebase.auth().currentUser.email.split('@')[1];\n            db.collection('domains').doc(domain).collection('votes')\n            .where('vote_id', '==', this.$route.params.vote_id)\n            .get().then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    this.doc_id = doc.id\n                    this.vote_id = doc.data().vote_id\n                    this.title = doc.data().title\n                    this.desc = doc.data().desc\n                    this.candidates = doc.data().candidates\n                })\n            })\n        },\n        updateVote(index) {\n            const self = this;\n            const domain = firebase.auth().currentUser.email.split('@')[1];\n            const shard_id = Math.floor(Math.random() * process.env.VUE_APP_NUM_SHARD).toString();\n\n            db.collection('domains').doc(domain).collection('votes')\n            .where('vote_id', '==', this.$route.params.vote_id).limit(1)\n            .get().then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    db.collection('domains').doc(domain).collection(\"votes\").doc(doc.id)\n                    .collection('shards').doc(shard_id).update({\n                        votes: firebase.firestore.FieldValue.arrayUnion(index)\n                    });\n                    self.addVote(doc.id, index);\n                    self.isVoted = true;\n                })\n            })\n        },\n        addVote(vote_doc_id, index) {\n            db.collection('users').doc(firebase.auth().currentUser.email).update({\n                [`votes.${vote_doc_id}`]: index\n            });\n        }\n    }\n}\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ViewVote.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-100\",attrs:{\"id\":\"view-vote\"}},[_c('div',{staticClass:\"fs-1-3 fw-b p-y-3 grey lighten-4\"},[_c('div',{staticClass:\"blue-text center\"},[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"border-b\"},[_c('div',{staticClass:\"fs-1 container-sub m-y-1-125\"},[_vm._v(_vm._s(_vm.desc))])]),_vm._v(\" \"),_c('div',{staticClass:\"border-b\"},[_c('div',{staticClass:\"fs-1-2 fw-b container-sub m-y-1-125 center\"},[_c('span',{staticClass:\"m-r-1\"},[_vm._v(\"投票数\")]),_c('span',{staticClass:\"blue-text\"},[_vm._v(_vm._s(this.deno))])])]),_vm._v(\" \"),_c('ul',{staticClass:\"collection border-0 m-t-0\"},[(_vm.isFetched && !_vm.isVoted)?_c('div',_vm._l((_vm.candidates),function(candidate,index){return _c('li',{staticClass:\"collection-item bg-none b-color-theme p-x-0\"},[_c('div',{staticClass:\"container-sub\"},[_c('div',{staticClass:\"fs-1-1 m-b-1\",attrs:{\"id\":index+1}},[_c('span',{staticClass:\"m-r-0-5 fw-b blue-text align-middle\"},[_vm._v(_vm._s(index+1)+\".\")]),_vm._v(\" \"),_c('span',{staticClass:\"m-b-2\"},[_vm._v(_vm._s(candidate))]),_vm._v(\" \"),_c('button',{staticClass:\"btn rounded-30 blue right\",on:{\"click\":function($event){return _vm.updateVote(index)}}},[_vm._v(\"投票\")])])])])}),0):_vm._e(),_vm._v(\" \"),(_vm.isFetched && _vm.isVoted)?_c('div',{staticClass:\"m-y-1-125\"},_vm._l((_vm.ratios),function(ratio,index){return _c('li',{staticClass:\"collection-item bg-none border-0 p-x-0 p-b-0\"},[_c('div',{staticClass:\"container-sub\"},[_c('div',{staticClass:\"p-absolute fw-b fs-1 h-2-5 valign-wrapper\"},[_c('span',{staticClass:\"m-l-1 m-r-0-5\"},[_vm._v(_vm._s(ratio)+\"% \")]),_c('span',{},[_vm._v(_vm._s(_vm.candidates[index]))])]),_vm._v(\" \"),_c('div',{staticClass:\"blue h-2-5 rounded-10 border-0\",style:({width: ratio + '%'}),attrs:{\"id\":index+1}})])])}),0):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-222d89c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ViewVote.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-222d89c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ViewVote.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewVote.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewVote.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-222d89c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ViewVote.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-222d89c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ViewVote.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col s12 m8 offset-m2\">\n                    <div class=\"center\">\n                        <div class=\"fs-1-5 fw-b m-y-2 font-bold\">ログイン</div>\n                        <form>\n                            <input type=\"text\" class=\"grey lighten-3 border-0 rounded-10\" id=\"email\"\n                            placeholder=\"メールアドレス\" v-model=\"email\">\n                            <input type=\"password\" class=\"grey lighten-3 border-0 rounded-10\" id=\"password\"\n                            placeholder=\"パスワード\" v-model=\"password\">\n                            <button v-on:click=\"login\" class=\"btn waves-effect waves-light\n                            rounded-10 w-100 bg-theme z-depth-0 m-y-1 h-3\">ログイン</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport firebase from 'firebase';\n\nexport default {\n    name: 'login',\n    data: function() {\n        return {\n            email: '',\n            password: ''\n        };\n    },\n    methods: {\n        login: function(e) {\n            firebase.auth().signInWithEmailAndPassword(this.email, this.password)\n            .then(\n                user => {\n                    console.log('Logged in as ' + user.user.email);\n                    this.$router.go({path: this.$router.path});\n                },\n                err => {\n                    alert(err.message);\n                }\n            )\n            e.preventDefault();\n        }\n    }\n};\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col s12 m8 offset-m2\"},[_c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"fs-1-5 fw-b m-y-2 font-bold\"},[_vm._v(\"ログイン\")]),_vm._v(\" \"),_c('form',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"grey lighten-3 border-0 rounded-10\",attrs:{\"type\":\"text\",\"id\":\"email\",\"placeholder\":\"メールアドレス\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"grey lighten-3 border-0 rounded-10\",attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"パスワード\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn waves-effect waves-light\\n                        rounded-10 w-100 bg-theme z-depth-0 m-y-1 h-3\",on:{\"click\":_vm.login}},[_vm._v(\"ログイン\")])])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-632342ef\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-632342ef\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-632342ef\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-632342ef\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"email-verified\"}},[_vm._v(\"\\n        メールの認証に成功しました！\\n    \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c0de7c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/EmailVerified.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c0de7c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EmailVerified.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EmailVerified.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EmailVerified.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c0de7c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EmailVerified.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c0de7c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EmailVerified.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"\">\n        <div id=\"email-verified\"class=\"container\">\n            メールの認証に成功しました！\n        </div>\n    </div>\n</template>\n\n<script>\nimport firebase from 'firebase';\n\nexport default {\n    name: 'email-verified',\n    data: function() {\n        return {\n        };\n    }\n};\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/EmailVerified.vue","<template>\n    <div class=\"\">\n        <div id=\"verify-email\" class=\"container\">\n            <div class=\"fs-1-5 fw-b m-y-1-125\">メールを送信しました！</div>\n            <div class=\"m-b-1\">Companyのご利用にはメールアドレスのアクティベートが必要です。<br>メールに記載されたURLをクリックしてアクティベートを行ってください。</div>\n            <button v-on:click=\"reload\" class=\"btn waves-effect waves-light rounded-10 w-100 bg-theme z-depth-0 m-y-1 h-3\">画面再読み込み</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport firebase from 'firebase';\n\nexport default {\n    name: 'verify-email',\n    data: function() {\n        return {\n        };\n    },\n    created() {\n        let user = firebase.auth().currentUser;\n        if(!user.emailVerified){\n            var returnUrl = null;\n            if(process.env.NODE_ENV == \"development\") {\n                returnUrl = 'https://b09a6b5ec4304472868077c701c72171.vfs.cloud9.ap-northeast-1.amazonaws.com/email-verified'\n            }else if(process.env.NODE_ENV == \"production\") {\n                returnUrl = 'https://taka-kawai-git.github.io/index.html#/'\n            }\n            \n            user.sendEmailVerification({\n                url: returnUrl,\n                handleCodeInApp: false,\n            });\n        }\n    },\n    methods: {\n        reload: function(e) {\n            this.$router.go({path: this.$router.path});\n        }\n    }\n};\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/VerifyEmail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"verify-email\"}},[_c('div',{staticClass:\"fs-1-5 fw-b m-y-1-125\"},[_vm._v(\"メールを送信しました！\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('button',{staticClass:\"btn waves-effect waves-light rounded-10 w-100 bg-theme z-depth-0 m-y-1 h-3\",on:{\"click\":_vm.reload}},[_vm._v(\"画面再読み込み\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-b-1\"},[_vm._v(\"Companyのご利用にはメールアドレスのアクティベートが必要です。\"),_c('br'),_vm._v(\"メールに記載されたURLをクリックしてアクティベートを行ってください。\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-130f9bc4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VerifyEmail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-130f9bc4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VerifyEmail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VerifyEmail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VerifyEmail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-130f9bc4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VerifyEmail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-130f9bc4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VerifyEmail.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col s12 m8 offset-m2\">\n                    <div class=\"center\">\n                        <div class=\"fs-1-5 fw-b m-y-2 font-bold\">新規登録</div>\n                        <form>\n                            <input type=\"text\" class=\"grey lighten-3 border-0 rounded-10\" id=\"email\"\n                            placeholder=\"メールアドレス\" v-model=\"email\">\n                            <input type=\"password\" class=\"grey lighten-3 border-0 rounded-10\" id=\"password\"\n                            placeholder=\"パスワード\" v-model=\"password\">\n                            <button v-on:click=\"register\" class=\"btn waves-effect waves-light\n                            rounded-10 w-100 bg-theme z-depth-0 m-y-1 h-3\">登録</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport db from './firebaseInit'\nimport firebase from 'firebase';\n\nexport default {\n    name: 'register',\n    data: function() {\n        return {\n            email: '',\n            password: ''\n        };\n    },\n    methods: {\n        register: function(e) {\n            firebase.auth().createUserWithEmailAndPassword(this.email, this.password)\n            .then(\n                user => {\n                    console.log('Logged in as ' + user.user.email);\n                    this.registerUser(user);\n                },\n                err => {\n                    alert(err.message);\n                }\n            )\n            e.preventDefault();\n        },\n        \n        registerUser: function(user) {\n            var self = this;\n            var domain = user.user.email.split('@')[1];\n            db.collection('users').doc(user.user.email).set({\n                email: user.user.email,\n                domain: domain,\n                created_at: new Date(),\n                likes: {},\n                votes: {}\n            })\n            .then(function() {\n                console.log(\"user created\");\n                self.updateOrRegisterDomain(domain);\n            })\n            .catch(error => console.log(error))\n        },\n        \n        updateOrRegisterDomain: function(domain) {\n            var self = this;\n            var domainRef = db.collection(\"domains\").doc(domain);\n            domainRef.get().then(function(doc) {\n                if (doc.exists) {\n                    console.log(\"Document data:\", doc.data());\n                    self.updateDomain(domainRef);\n                } else {\n                    console.log(\"No such document!\");\n                    self.registerDomain(domainRef, domain);\n                }\n                self.$router.go({path: self.$router.path});\n            }).catch(function(error) {\n                console.log(\"Error getting document:\", error);\n            });\n        },\n        \n        updateDomain: function(domainRef) {\n            var self = this;\n            domainRef.update({\n                participants: firebase.firestore.FieldValue.increment(1)\n            })\n            .then(function() {\n                console.log(\"Document successfully updated!\");\n            })\n            .catch(function(error) {\n                console.error(\"Error updating document: \", error);\n            });\n        },\n        \n        registerDomain: function(domainRef, domain) {\n            var self = this;\n            var data = {\n                create_at: new Date(),\n                domain: domain,\n                participants: 1\n            }\n            domainRef.set(data)\n            .then(function() {\n                console.log(\"Document successfully written!\");\n            })\n            .catch(function(error) {\n                console.error(\"Error updating document: \", error);\n            });\n        }\n    }\n};\n</script>\n\n<style scoped>\n    @import \"../assets/common.css\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col s12 m8 offset-m2\"},[_c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"fs-1-5 fw-b m-y-2 font-bold\"},[_vm._v(\"新規登録\")]),_vm._v(\" \"),_c('form',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"grey lighten-3 border-0 rounded-10\",attrs:{\"type\":\"text\",\"id\":\"email\",\"placeholder\":\"メールアドレス\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"grey lighten-3 border-0 rounded-10\",attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"パスワード\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn waves-effect waves-light\\n                        rounded-10 w-100 bg-theme z-depth-0 m-y-1 h-3\",on:{\"click\":_vm.register}},[_vm._v(\"登録\")])])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ec9ceaa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ec9ceaa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ec9ceaa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ec9ceaa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Register.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from '@/components/Home';\nimport Menu from '@/components/Menu';\nimport Terms from '@/components/Terms';\nimport NewThread from '@/components/NewThread';\nimport ViewThread from '@/components/ViewThread';\nimport NewComment from '@/components/NewComment';\nimport NewVote from '@/components/NewVote';\nimport ViewVote from '@/components/ViewVote';\nimport Login from '@/components/Login';\nimport EmailVerified from '@/components/EmailVerified';\nimport VerifyEmail from '@/components/VerifyEmail';\nimport Register from '@/components/Register';\nimport firebase from 'firebase';\nimport UUID from 'vue-uuid';\nimport VueScrollTo from 'vue-scrollto';\n\n \nVue.use(Router);\nVue.use(UUID);\nVue.use(VueScrollTo);\n\nlet router = new Router({\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            component: Home,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n        {\n            path: '/menu',\n            name: 'menu',\n            component: Menu,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n        {\n            path: '/terms',\n            name: 'terms',\n            component: Terms,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n        {\n            path: '/login',\n            name: 'login',\n            component: Login,\n            meta: {\n                requiresGuest: true\n            }\n        },\n        {\n            path: '/register',\n            name: 'register',\n            component: Register,\n            meta: {\n                requiresGuest: true\n            }\n        },\n        {\n            path: '/email-verified',\n            name: 'email-verified',\n            component: EmailVerified,\n            // meta: {\n            //     requiresGuest: true\n            // }\n        },\n        {\n            path: '/verify-email',\n            name: 'verify-email',\n            component: VerifyEmail,\n            meta: {\n                requiresAuth: true\n            }\n        },\n        {\n            path: '/new-thread',\n            name: 'new-thread',\n            component: NewThread,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n        {\n            path: '/new-vote',\n            name: 'new-vote',\n            component: NewVote,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n        {\n            path: '/thread/:thread_id',\n            name: 'view-thread',\n            component: ViewThread,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n        {\n            path: '/thread/:thread_id/new',\n            name: 'new-comment',\n            component: NewComment,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n        {\n            path: '/vote/:vote_id',\n            name: 'view-vote',\n            component: ViewVote,\n            meta: {\n                requiresEmailVerified: true\n            }\n        },\n    ]\n})\n\n// Nav Guards\nrouter.beforeEach((to, from, next) => {\n    \n    if(to.matched.some(record => record.meta.requiresAuth)) {\n        // ログインしてなかったらログインへ\n        if(!firebase.auth().currentUser){\n            next({\n                path: '/login',\n                query: {\n                    redirect: to.fullpath\n                }\n            });\n        // ログインしてて　かつ　メールも確認済だったらホームへ\n        }else if(firebase.auth().currentUser.emailVerified){\n            next({\n                path: '/',\n                query: {\n                    redirect: to.fullpath\n                }\n            });\n        // それ以外は通す\n        }else{\n            next();\n        }\n    }else if(to.matched.some(record => record.meta.requiresEmailVerified)) {\n        // ログインしてなかったらログインへ\n        if(!firebase.auth().currentUser){\n            next({\n                path: '/login',\n                query: {\n                    redirect: to.fullpath\n                }\n            });\n        // ログインしてて　かつ　メール確認がまだだったらメール送信画面へ\n        }else if(!firebase.auth().currentUser.emailVerified){\n            next({\n                path: '/verify-email',\n                query: {\n                    redirect: to.fullpath\n                }\n            });\n        // それ以外は通す\n        }else{\n            next();\n        }\n    }else if(to.matched.some(record => record.meta.requiresGuest)){\n        // ログインしてなかったら通す\n        if(!firebase.auth().currentUser){\n            next();\n        // ログインしてて　かつ　メール確認がまだだったらメール送信画面へ\n        }else if(!firebase.auth().currentUser.emailVerified){\n            next({\n                path: '/verify-email',\n                query: {\n                    redirect: to.fullpath\n                }\n            });\n        // ログインしてて　かつ　メール確認も済みだったらホームへ\n        }else{\n            next({\n                path: '/',\n                query: {\n                    redirect: to.fullpath\n                }\n            });\n        }\n    }else{\n        // Proceed to route\n        next();\n    }\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport firebase from 'firebase';\nimport './components/firebaseInit';\n\nVue.config.productionTip = false\n\nlet app;\nfirebase.auth().onAuthStateChanged(user => {\n    if(!app){\n        app = new Vue({\n          el: '#app',\n          router,\n          components: { App },\n          template: '<App/>'\n        })\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItbWVudSI+PGxpbmUgeDE9IjMiIHkxPSIxMiIgeDI9IjIxIiB5Mj0iMTIiPjwvbGluZT48bGluZSB4MT0iMyIgeTE9IjYiIHgyPSIyMSIgeTI9IjYiPjwvbGluZT48bGluZSB4MT0iMyIgeTE9IjE4IiB4Mj0iMjEiIHkyPSIxOCI+PC9saW5lPjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/image/menu.svg\n// module id = RWWN\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItbG9nLW91dCI+PHBhdGggZD0iTTkgMjFINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmg0Ij48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjEgMTIgMTYgNyI+PC9wb2x5bGluZT48bGluZSB4MT0iMjEiIHkxPSIxMiIgeDI9IjkiIHkyPSIxMiI+PC9saW5lPjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/image/log-out.svg\n// module id = WUVV\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItaG9tZSI+PHBhdGggZD0iTTMgOWw5LTcgOSA3djExYTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0yeiI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9IjkgMjIgOSAxMiAxNSAxMiAxNSAyMiI+PC9wb2x5bGluZT48L3N2Zz4=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/image/home.svg\n// module id = dCaY\n// module chunks = 1"],"sourceRoot":""}